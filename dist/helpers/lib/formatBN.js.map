{"version":3,"sources":["../../../src/helpers/lib/formatBN.js"],"names":["tenPow","x","BN","pow","formatBN","amount","base","precision","baseLength","toString","length","whole","div","fraction","mod","zeros","repeat","Math","max","replace","slice","parseInt"],"mappings":";;;;;;;;;AAAA;;AAEO,MAAMA,MAAM,GAAGC,CAAC,IACpB,IAAIC,WAAJ,CAAO,EAAP,CAAD,CAAaC,GAAb,CAAiB,IAAID,WAAJ,CAAOD,CAAP,CAAjB,CADK;;;;AAIA,MAAMG,QAAQ,GAAG,CAACC,MAAD,EAASC,IAAT,EAAeC,SAAf,KAA6B;AACnD;AACA,QAAMC,UAAU,GAAGF,IAAI,CAACG,QAAL,GAAgBC,MAAnC;AAEA,QAAMC,KAAK,GAAGN,MAAM,CAACO,GAAP,CAAWN,IAAX,EAAiBG,QAAjB,EAAd;AACA,MAAII,QAAQ,GAAGR,MAAM,CAACS,GAAP,CAAWR,IAAX,EAAiBG,QAAjB,EAAf;AACA,QAAMM,KAAK,GAAG,IAAIC,MAAJ,CAAWC,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYV,UAAU,GAAGK,QAAQ,CAACH,MAAtB,GAA+B,CAA3C,CAAX,CAAd;AACAG,EAAAA,QAAQ,GAAI,GAAEE,KAAM,GAAEF,QAAS,EAApB,CAAsBM,OAAtB,CAA8B,KAA9B,EAAqC,EAArC,EAAyCC,KAAzC,CAA+C,CAA/C,EAAkDb,SAAlD,CAAX;;AAEA,MAAIM,QAAQ,KAAK,EAAb,IAAmBQ,QAAQ,CAACR,QAAD,EAAW,EAAX,CAAR,KAA2B,CAAlD,EAAqD;AACnD,WAAOF,KAAP;AACD;;AAED,SAAQ,GAAEA,KAAM,IAAGE,QAAS,EAA5B;AACD,CAdM","sourcesContent":["import BN from 'bn.js'\n\nexport const tenPow = x => (\n  (new BN(10)).pow(new BN(x))\n)\n\nexport const formatBN = (amount, base, precision) => {\n  // Inspired by: https://github.com/ethjs/ethjs-unit/blob/35d870eae1c32c652da88837a71e252a63a83ebb/src/index.js#L83\n  const baseLength = base.toString().length\n\n  const whole = amount.div(base).toString()\n  let fraction = amount.mod(base).toString()\n  const zeros = '0'.repeat(Math.max(0, baseLength - fraction.length - 1))\n  fraction = `${zeros}${fraction}`.replace(/0+$/, '').slice(0, precision)\n\n  if (fraction === '' || parseInt(fraction, 10) === 0) {\n    return whole\n  }\n\n  return `${whole}.${fraction}`\n}\n"],"file":"formatBN.js"}